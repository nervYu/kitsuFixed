{"version":3,"file":"ChangeAvatarModal-28d1187e.js","sources":["../../src/components/modals/ChangeAvatarModal.vue"],"sourcesContent":["<template>\n<div :class=\"{\n  'modal': true,\n  'is-active': active\n}\">\n  <div class=\"modal-background\" @click=\"$emit('cancel')\" ></div>\n\n  <div class=\"modal-content\">\n\n    <div class=\"box content\">\n      <h1 class=\"title\">\n        {{ title }}\n      </h1>\n\n      <p>\n        {{ $t(\"main.csv.select_file\") }}\n      </p>\n\n      <file-upload\n        ref=\"uploadAvatarField\"\n        :label=\"$t('main.csv.upload_file')\"\n        @fileselected=\"onFileSelected\"\n        accept=\".png,.jpg,.jpeg\"\n      />\n\n      <p class=\"error\" v-if=\"isError\">\n        {{ $t(\"profile.avatar.error_upload\") }}\n      </p>\n\n      <modal-footer\n        :error-text=\"$t('productions.metadata.error')\"\n        :is-loading=\"isLoading\"\n        :is-disabled=\"!formData\"\n        @confirm=\"onConfirmClicked\"\n        @cancel=\"$emit('cancel')\"\n      />\n\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex'\nimport { modalMixin } from '@/components/modals/base_modal'\nimport FileUpload from '@/components/widgets/FileUpload.vue'\nimport ModalFooter from '@/components/modals/ModalFooter.vue'\n\nexport default {\n  name: 'change-avatar-modal',\n  mixins: [modalMixin],\n\n  components: {\n    FileUpload,\n    ModalFooter\n  },\n\n  props: {\n    active: {\n      type: Boolean,\n      default: false\n    },\n    isError: {\n      type: Boolean,\n      default: false\n    },\n    isLoading: {\n      type: Boolean,\n      default: false\n    },\n    title: {\n      type: String,\n      default: ''\n    }\n  },\n\n  data () {\n    return {\n      formData: null\n    }\n  },\n\n  computed: {\n    ...mapGetters([\n    ])\n  },\n\n  methods: {\n\n    ...mapActions([\n    ]),\n\n    onFileSelected (formData) {\n      this.formData = formData\n      this.$emit('fileselected', formData)\n    },\n\n    onConfirmClicked () {\n      this.$emit('confirm', this.formData)\n    }\n  },\n  watch: {\n    active () {\n      this.formData = null\n      this.$refs.uploadAvatarField.reset()\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.modal-content .box p.text {\n  margin-bottom: 1em;\n}\n\n.error {\n  margin-top: 1em;\n}\n\n.description {\n  margin-bottom: 1em;\n}\n</style>\n"],"names":["_sfc_main","modalMixin","FileUpload","ModalFooter","mapGetters","mapActions","formData"],"mappings":"4EAgDA,MAAAA,EAAA,CACA,KAAA,sBACA,OAAA,CAAAC,CAAA,EAEA,WAAA,CACA,WAAAC,EACA,YAAAC,CACA,EAEA,MAAA,CACA,OAAA,CACA,KAAA,QACA,QAAA,EACA,EACA,QAAA,CACA,KAAA,QACA,QAAA,EACA,EACA,UAAA,CACA,KAAA,QACA,QAAA,EACA,EACA,MAAA,CACA,KAAA,OACA,QAAA,EACA,CACA,EAEA,MAAA,CACA,MAAA,CACA,SAAA,IACA,CACA,EAEA,SAAA,CACA,GAAAC,EAAA,CACA,CAAA,CACA,EAEA,QAAA,CAEA,GAAAC,EAAA,CACA,CAAA,EAEA,eAAAC,EAAA,CACA,KAAA,SAAAA,EACA,KAAA,MAAA,eAAAA,CAAA,CACA,EAEA,kBAAA,CACA,KAAA,MAAA,UAAA,KAAA,QAAA,CACA,CACA,EACA,MAAA,CACA,QAAA,CACA,KAAA,SAAA,KACA,KAAA,MAAA,kBAAA,MAAA,CACA,CACA,CACA"}